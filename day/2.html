<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const getWeek = (week) => {
        const weeks = {
          0: '日',
          1: '一',
          2: '二',
          3: '三',
          4: '四',
          5: '五',
          6: '六'
        }
        return weeks[week]
      }
      const formatTime = (time) => {
        const today = new Date()
        const todayDay = today.getDay()
        const isToday = today.getDay() === time.getDay()
        return {
          day: time.getDate(),
          week: getWeek(time.getDay()),
          isToday
        }
      }
      const getWeeks = () => {
        const oneDayTime = 1000 * 60 * 60 * 24
        const today = new Date()
        const todayDay = today.getDay() // 当天周几
        const startDay = new Date(today.getTime() - oneDayTime * todayDay)
        const days = [formatTime(startDay)]
        for (let i = 1; i < 7; i++) {
          days.push(formatTime(new Date(startDay.getTime() + oneDayTime * i)))
        }
        return days
      }
      console.log('getWeeks', getWeeks())
    </script>
  </body>
</html>
